<?phpclass Site extends PageController{	public $helpers = array('Html', 'HtmlTemplate', 'Css', 'Javascript');	public function index()	{		if ( !$this->user->isLoggedIn() )		{			$params = array('User', 'login', 'User', 'login');			$this->attachBlock('loginBox', 'Login', 'view_loginLinkBox', $params);		}		else		{			$this->attachBlock('unreadMessages', 'Messages', 'view_getUnreadMessage', array($this->user->id()));		}		$this->attachBlock('forumThreads', 'Forum', 'ActivityOverview', array(6));		$this->css->addFile('/css/forum.css');		$this->set('active','Home');		$this->view('index.tpl.php');	}	public function error($request = NULL)	{		switch ( $_SERVER['REQUEST_URI'] )		{			case '/robots.txt':				$this->render = false;				$output  = "User-agent: *\n";				$output .= "Allow: /";				return $output;				break;			default:				// ADD TEMPLATE ELEMENTS				$this->htmltemplate->setTitle('404 Fehler - URL not found.');				// VIEW VARIABLES				$this->set('url', $request);				// VIEW OPTIONS				$this->set('headline', 'URL not found.');				$this->view('error.tpl.php');		}	}	public function success_info()	{		if ( !Session::exists('redirect_info') )		{			$this->redirectHome();			return;		}		$info	= Session::get('redirect_info');		$head	= $info['head'];		$body	= $info['body'];		$url	= $info['url'];		$delay	= $info['delay'];		Session::del('redirect_info');		$this->htmltemplate->setRedirect($url, $delay);		$this->set('head', $head);		$this->set('body', $body);		$this->set('url', $url);		$this->set('delay', $delay);		$this->view('success_info.tpl.php');	}}?>