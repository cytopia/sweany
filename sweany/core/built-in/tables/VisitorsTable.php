<?phpclass VisitorsTable extends Table{	// TABLE	public $table	= 'visitors';	public $alias	= 'Visitor';	// FIELDS	public $fields = array(		'id',		'url',		'referer',		'useragent',		'ip',		'host',		'session_id',		'created',		'fk_user_id'	);	// AUTO FIELDS	public $hasCreated	= array(		'created'		=> 'integer',		// store current unix timestamp on save()	);	// RELATIONS	public $belongsTo = array(		'User'	=> array(			'table'			=> 'users',			'core'			=> true,		// determines, that this is a core table (found in built-in/tables)			'fields'		=> array('id', 'username'),			'foreignKey'	=> 'fk_user_id',			'recursive'		=> false,		),	);	/* ******************************************** O V E R R I D E S ******************************************** */	public function save($notUsed1 = null, $notUsed2 = null)	{		$hostname	= gethostbyaddr($_SERVER['REMOTE_ADDR']);		$fields = array(			'url'		=> Url::getRequest(),			'referer'	=> isset($_SERVER['HTTP_REFERER']) ? $_SERVER['HTTP_REFERER'] : '',			'useragent'	=> $_SERVER['HTTP_USER_AGENT'],			'ip'		=> $_SERVER['REMOTE_ADDR'],			'host'		=> $hostname,			'session_id'=> Session::getId(),		);		return parent::save($fields, 0);	}}